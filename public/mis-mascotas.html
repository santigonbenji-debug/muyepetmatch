<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Perfil | Muy√® PetMatch</title>
    <link rel="icon" href="/loguito.png">
    <meta name="description" content="Gestion√° tus publicaciones: editar, eliminar o marcar como adoptada. Todo en un solo lugar.">

    <link rel="stylesheet" href="inicio.css" />
    <style>
      /* ...estilos incluidos... (id√©nticos al archivo) */
    </style>
  </head>

  <body>
    <div class="perfil-contenedor">
      <!-- Lateral -->
      <div class="perfil-lateral">
        <img src="perfil-default.png" class="perfil-foto" alt="Tu foto de perfil" id="avatarMain" />
        <div class="perfil-nombre" id="perfilNombre">Nombre Apellido</div>
        <div class="perfil-ubicacion" id="perfilUbicacion">Ubicaci√≥n</div>
        <div class="perfil-email" id="perfilEmail">usuario@email.com</div>
        <div class="perfil-tel" id="perfilTelefono">Tel: ‚Äî</div>
        <div class="perfil-contacto" id="perfilContacto">@alias</div>
        <div class="perfil-sobremi" id="perfilSobreMi">¬°Amante de los animales! üê∂üê±</div>
        <button class="btn-editar" id="btnEditarPerfil" type="button">Editar perfil</button>
      </div>

      <!-- Main -->
      <div class="perfil-main">
        <h2>MIS MASCOTAS</h2>
        <div class="cards-mascotas" id="cardsMascotas"></div>
      </div>
    </div>

    <!-- Modal editar PERFIL -->
    <div id="modal-editar-perfil" class="muye-modal" hidden>
      <div class="muye-dialog" role="dialog" aria-modal="true" aria-labelledby="perfilTitle">
        <button type="button" class="muye-close" id="cerrarModalPerfil" aria-label="Cerrar">√ó</button>
        <h3 id="perfilTitle">Editar perfil</h3>

        <form id="formPerfil">
          <label>Nombre <input type="text" id="inputNombre" maxlength="60" required /></label>
          <div class="grid-2">
            <label>Ubicaci√≥n <input type="text" id="inputUbicacion" maxlength="60" /></label>
            <label>Email <input type="email" id="inputEmail" required /></label>
          </div>
          <div class="grid-2">
            <label>Tel√©fono <input type="text" id="inputTelefono" maxlength="30" /></label>
            <label>WhatsApp <input type="text" id="inputWhatsapp" maxlength="30" /></label>
          </div>
          <label>Alias <input type="text" id="inputAlias" maxlength="40" /></label>
          <label>Sobre m√≠ <textarea id="inputSobreMi" rows="3" maxlength="240"></textarea></label>
          <label>Foto de perfil</label>
          <input type="file" id="fotoPerfilFile" accept="image/*" />
          <img id="avatarPreview" alt="Preview" style="width:120px;height:120px;border-radius:50%;object-fit:cover;margin-top:8px;">
          <div class="acciones">
            <button type="submit" class="btn-primario">Guardar cambios</button>
            <button type="button" id="cancelarEditarPerfil" class="btn-secundario">Cancelar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal editar MASCOTA -->
    <div id="modal-editar" class="muye-modal" hidden>
      <div class="muye-dialog" role="dialog" aria-modal="true" aria-labelledby="editTitle">
        <button type="button" class="muye-close" id="cerrarModalEditar" aria-label="Cerrar">√ó</button>
        <h3 id="editTitle">Editar mascota</h3>
        <form id="form-editar">
          <input type="hidden" id="editId">
          <label>Nombre <input type="text" id="editNombre" maxlength="40" required></label>
          <div class="grid-2">
            <label>Edad <input type="number" id="editEdad" min="0" max="40" required></label>
            <label>Tipo
              <select id="editTipo" required>
                <option value="Perro">Perro</option>
                <option value="Gato">Gato</option>
                <option value="Otro">Otro</option>
              </select>
            </label>
          </div>
          <label>Ubicaci√≥n <input type="text" id="editUbicacion" maxlength="60"></label>
          <label>Descripci√≥n <textarea id="editDescripcion" rows="3" maxlength="240"></textarea></label>
          <div class="acciones">
            <button type="submit" class="btn-primario">Guardar cambios</button>
            <button type="button" id="cancelarEditar" class="btn-secundario">Cancelar</button>
          </div>
        </form>
      </div>
    </div>

    <script>window.REQUIERE_LOGIN = true;</script>
    <script src="sesion.js"></script>
    <script> window.muSession?.requireAuth("/mis-mascotas.html"); </script>
    <script src="mis-mascotas.js" defer></script>
  </body>
</html>
